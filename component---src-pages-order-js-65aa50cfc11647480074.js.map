{"version":3,"sources":["webpack:///./src/components/PricingPanel/index.css.js","webpack:///./src/components/PricingPanel/ItemCountSelector/index.css.js","webpack:///./src/components/PricingPanel/ItemCountSelector/index.js","webpack:///./src/components/PricingPanel/SummaryPrice/index.css.js","webpack:///./src/components/PricingPanel/SummaryPrice/index.js","webpack:///./src/components/PricingPanel/index.js","webpack:///./src/components/ControlButtons/OrderPageControls.js","webpack:///./src/pages/order.js","webpack:///./src/components/Step/index.css.js","webpack:///./src/components/Step/index.js","webpack:///./src/components/ControlButtons/NextButton/index.css.js","webpack:///./src/components/ControlButtons/NextButton/index.js","webpack:///./src/components/PaymentMethodPanel/index.css.js","webpack:///./src/components/PaymentMethodPanel/MethodSelector/index.css.js","webpack:///./src/components/PaymentMethodPanel/MethodSelector/index.js","webpack:///./src/components/BuyerInfoForm/Common.css.js","webpack:///./src/components/BuyerInfoForm/CreditCardInput/index.css.js","webpack:///./src/components/BuyerInfoForm/CreditCardInput/index.js","webpack:///./src/components/BuyerInfoForm/ExpireDateSelector/index.css.js","webpack:///./src/components/BuyerInfoForm/ExpireDateSelector/index.js","webpack:///./src/components/BuyerInfoForm/RowInput/index.css.js","webpack:///./src/components/BuyerInfoForm/RowInput/index.js","webpack:///./src/components/BuyerInfoForm/index.css.js","webpack:///./src/components/BuyerInfoForm/index.js","webpack:///./src/components/PaymentMethodPanel/index.js","webpack:///./src/components/ControlButtons/BackButton/index.css.js","webpack:///./src/components/ControlButtons/BackButton/index.js"],"names":["Wrapper","styled","div","_templateObject","Step","StepRaw","_templateObject2","TotalPrice","_templateObject3","COLOR","LIGHT_PINK","RED","index_css_templateObject","Image","Img","index_css_templateObject2","InfoWrapper","index_css_templateObject3","Name","_templateObject4","PriceWrapper","_templateObject5","CountInput","_templateObject6","LIGHT_BLACK","Price","_templateObject7","ItemCountSelector","_ref","name","unit","count","price","imageData","onChange","react_default","a","createElement","index_css_Wrapper","fixed","es","min","max","value","useTouch","SummaryPrice_index_css_templateObject","Summary","SummaryPrice_index_css_templateObject2","ShoppingFee","SummaryPrice_index_css_templateObject3","Info","index_css_templateObject4","BROWN","Fee","index_css_templateObject5","GREEN","SummaryPrice","sum","shoppingFee","SummaryPrice_index_css_Wrapper","PricingPanel","items","updateItem","totalPrice","reduce","total","item","Number","finalPrice","index_css_Step","map","PricingPanel_ItemCountSelector","key","id","updatedCount","PricingPanel_SummaryPrice","Container","OrderPageControls_templateObject","MobileNextButton","NextButton","OrderPageControls_templateObject2","media","desktop","OrderPageControls_templateObject3","DesktopNextButton","OrderPageControls_templateObject4","OrderPageControls_templateObject5","OrderPageControls","disableMobileNextButton","disableDesktopNextButton","BackButton","onClick","navigate","index_es","icon","faPlus","disabled","defaultProps","order_templateObject","order_templateObject2","PanelGroup","order_templateObject3","order_templateObject4","FormWrapper","order_templateObject5","order_templateObject6","OrderPage","_useContext","useContext","shoppingContext","selectedItems","useEffect","length","itemsInfo","i","Object","assign","find","totalItemsCount","_useState","useState","isInputValid","setInputValid","order_Container","components_PricingPanel","PaymentMethodPanel","ControlButtons_OrderPageControls","GREY","span","className","children","Button","button","PINK","props","textDecoration","opacity","cursor","Selector","active","boxShadow","background","REGULAR_PINK","MethodSelector","linePayImageData","_569445207","data","faCreditCard","gatsby_image_default","file","childImageSharp","Label","label","Common_css_templateObject","Input","input","Common_css_templateObject2","LIGHT_BLUE","BLUE","isInvalid","borderColor","Select","select","Common_css_templateObject3","CreditCardInput_index_css_templateObject","InputWrapper","CreditCardInput_index_css_templateObject2","LabelRaw","InputRaw","CreditCardInput","_this","_React$PureComponent","call","this","setInputRef","ref","inputRef","handleChange","e","target","focus","blur","render","_this$props","values","onBlur","_this$props$errors","errors","_this$props$touched","touched","index_css_Container","index_css_Label","index_css_Input","id0","id1","id2","id3","React","PureComponent","ExpireDateSelector_index_css_templateObject","ExpireDateSelector_index_css_templateObject2","SelectRaw","SelectWrapper","ExpireDateSelector_index_css_templateObject3","yearOptions","Array","apply","_","String","monthOptions","ExpireDateSelector","expiredMonth","expiredYear","_ref$errors","_ref$touched","creditCardErrors","creditCard","creditCardTouched","ExpireDateSelector_index_css_Label","index_css_Select","Fragment","o","RowInput_index_css_templateObject","RowInput_index_css_templateObject2","RowInput_index_css_templateObject3","RowInput","placeholder","error","inputWidth","RowInput_index_css_Wrapper","RowInput_index_css_Label","RowInput_index_css_Input","style","width","BuyerInfoForm_index_css_templateObject","BuyerInfoForm_index_css_templateObject2","CreditCardWrapper","BuyerInfoForm_index_css_templateObject3","BuyerInfoWrapper","buyerInfoSchema","Yup","shape","required","securityCode","phone","matches","address","BuyerInfoForm","setBuyerInfo","buyerInfo","previousValidState","_buyerInfo$creditCard","initCreditCard","_objectWithoutPropertiesLoose","idArray","split","splice","join","formik_esm","initialValues","isInitialValid","validationSchema","onSubmit","_ref2","isValid","handleBlur","_values$creditCard","otherCreditCard","setTimeout","validate","then","catch","BuyerInfoForm_index_css_Container","BuyerInfoForm_CreditCardInput","BuyerInfoForm_ExpireDateSelector","BuyerInfoForm_RowInput","PaymentMethodPanel_MethodSelector","components_BuyerInfoForm"],"mappings":"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","file":"component---src-pages-order-js-65aa50cfc11647480074.js","sourcesContent":["import styled from \"styled-components\"\n\nimport StepRaw from \"../Step\"\nimport { COLOR } from \"../../constants\"\n\nexport const Wrapper = styled.div`\n  width: 345px;\n  padding: 16px 15px 28px;\n  border-radius: 14px;\n  background: white;\n  box-sizing: border-box;\n  box-shadow: 0 3px 6px 0 rgba(187, 68, 68, .4);\n`\n\nexport const Step = styled(StepRaw)`\n  width: 315px;\n  margin-bottom: 24px;\n`\n\nexport const TotalPrice = styled.div`\n  padding-top: 12px;\n  padding-right: 6px;\n  border-top: 2px solid ${COLOR.LIGHT_PINK};\n  font-size: 30px;\n  font-weight: 300;\n  text-align: right;\n  line-height: 40px;\n  color: ${COLOR.RED};\n  \n  b {\n    margin-left: 21px;\n    font-weight: bold;\n  }\n`\n","import styled from \"styled-components\"\nimport Img from \"gatsby-image\"\n\nimport { COLOR } from \"../../../constants\"\n\nexport const Wrapper = styled.div`\n  padding-left: 10px;\n  padding-right: 3px;\n  margin-bottom: 24px;\n  display: flex;\n  align-items: center;\n\n  & + & {\n    border-top: 2px solid ${COLOR.LIGHT_PINK};\n    padding-top: 22px;\n  }\n`\n\nexport const Image = styled(Img)`\n  width: 70px !important;\n  height: 70px !important;\n  flex: 0 0 auto;\n`\n\nexport const InfoWrapper = styled.div`\n  margin-left: 19px;\n  width: 100%;\n`\n\nexport const Name = styled.div`\n  margin-bottom: 10px;\n  font-size: 21px;\n  line-height: 28px;\n`\n\nexport const PriceWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nexport const CountInput = styled.div`\n  font-size: 23px;\n  font-weight: 300;\n  line-height: 31px;\n  color: ${COLOR.LIGHT_BLACK};\n  display: flex;\n  align-items: center;\n\n  .rc-input-number {\n    width: 72px;\n    height: 40px;\n    font-size: 23px;\n    line-height: 31px;\n    border-radius: 6px;\n    margin-right: 6px;\n\n    .rc-input-number-handler-wrap {\n      display: none;\n    }\n\n    .rc-input-number-input {\n      color: black;\n      font-weight: 300;\n    }\n  }\n`\n\nexport const Price = styled.div`\n  font-size: 23px;\n  font-weight: 300;\n  line-height: 31px;\n  color: ${COLOR.LIGHT_BLACK};\n`\n\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport InputNumber from \"rc-input-number\"\nimport 'rc-input-number/assets/index.css'\n\nimport { Wrapper, Image, InfoWrapper, Name, PriceWrapper, CountInput, Price } from \"./index.css\"\n\nconst ItemCountSelector = ({ name, unit, count, price, imageData, onChange }) => {\n  return (\n    <Wrapper>\n      <Image fixed={imageData} />\n      <InfoWrapper>\n        <Name>{name}</Name>\n        <PriceWrapper>\n          <CountInput>\n            <InputNumber\n              min={0}\n              max={99}\n              value={count}\n              onChange={onChange}\n              useTouch\n            /> {unit}\n          </CountInput>\n          <Price>{price}元</Price>\n        </PriceWrapper>\n      </InfoWrapper>\n    </Wrapper>\n  )\n}\n\nItemCountSelector.propTypes = {\n  name: PropTypes.string.isRequired,\n  unit: PropTypes.string.isRequired,\n  count: PropTypes.number.isRequired,\n  price: PropTypes.string.isRequired,\n  imageData: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n}\n\nexport default ItemCountSelector\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../../constants\"\n\nexport const Wrapper = styled.div`\n  border-top: 2px solid ${COLOR.LIGHT_PINK};\n  padding-top: 21px;\n  padding-bottom: 23px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  font-size: 23px;\n  line-height: 31px;\n  font-weight: 300;\n`\n\nexport const Summary = styled.div`\n  color: ${COLOR.LIGHT_BLACK};\n\n  b {\n    margin-left: 18px;\n    font-weight: 300;\n  }\n`\n\nexport const ShoppingFee = styled.div`\n  margin-top: 26px;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n`\n\nexport const Info = styled.div`\n  font-size: 16px;\n  line-height: 21px;\n  color: ${COLOR.BROWN};\n`\n\nexport const Fee = styled.div`\n  color: ${COLOR.GREEN};\n\n  b {\n    margin-left: 18px;\n    font-weight: 300;\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Wrapper, Summary, ShoppingFee, Info, Fee } from \"./index.css\"\n\nconst SummaryPrice = ({ sum, shoppingFee }) => {\n  return (\n    <Wrapper>\n      <Summary>小計<b>{sum}元</b></Summary>\n      <ShoppingFee>\n        <Info>(滿2000元享免運優惠)</Info>\n        <Fee>運費<b>{shoppingFee}元</b></Fee>\n      </ShoppingFee>\n    </Wrapper>\n  )\n}\n\nSummaryPrice.propTypes = {\n  sum: PropTypes.number.isRequired,\n  shoppingFee: PropTypes.number.isRequired\n}\n\nexport default SummaryPrice\n","import React from \"react\"\n\nimport { Step, Wrapper, TotalPrice } from \"./index.css\"\nimport ItemCountSelector from \"./ItemCountSelector\"\nimport SummaryPrice from \"./SummaryPrice\"\n\nconst PricingPanel = ({ items, updateItem }) => {\n  const totalPrice = items.reduce((total, item) => item.count * Number(item.price) + total, 0)\n  const shoppingFee = totalPrice >= 2000 ? 0 : 200\n  const finalPrice = totalPrice + shoppingFee\n\n  return (\n    <Wrapper>\n      <Step>步驟2.購買數量與金額</Step>\n\n      {items.map(item => (\n        <ItemCountSelector key={item.id}\n          name={item.name}\n          unit={item.unit}\n          count={item.count}\n          imageData={item.imageData}\n          price={item.price}\n          onChange={(updatedCount) => updateItem({ id: item.id, count: updatedCount || 0 })}\n        />\n      ))}\n\n      <SummaryPrice\n        sum={totalPrice}\n        shoppingFee={shoppingFee}\n      />\n      <TotalPrice>\n        總額<b>{finalPrice}元</b>\n      </TotalPrice>\n    </Wrapper>\n  )\n}\n\nexport default PricingPanel\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\nimport { navigate } from \"gatsby\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\"\n\nimport BackButton from \"./BackButton\"\nimport NextButton from \"./NextButton\"\nimport { media } from \"../../utils/styledUtils\"\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n`\n\nconst MobileNextButton = styled(NextButton)`\n  ${media.desktop`\n    display: none;\n  `}\n`\n\nconst DesktopNextButton = styled(NextButton)`\n  display: none;\n  \n  ${media.desktop`\n    display: block;\n  `}\n`\n\nconst OrderPageControls = ({ disableMobileNextButton, disableDesktopNextButton }) => {\n  const handleBackButtonClick = () => {\n    navigate(\"/\")\n  }\n  const handleMobileNextButtonClick = () => {\n    if (disableMobileNextButton) return\n    navigate(\"/payment\")\n  }\n  const handleDesktopNextButtonClick = () => {\n    if (disableDesktopNextButton) return\n    navigate(\"/order-result\")\n  }\n\n  return (\n    <Container>\n      <BackButton onClick={handleBackButtonClick}>\n        <FontAwesomeIcon icon={faPlus} /> 加購\n      </BackButton>\n\n      <MobileNextButton onClick={handleMobileNextButtonClick} disabled={disableMobileNextButton}>\n        下一步\n      </MobileNextButton>\n      <DesktopNextButton onClick={handleDesktopNextButtonClick} disabled={disableDesktopNextButton}>\n        結帳\n      </DesktopNextButton>\n    </Container>\n  )\n}\n\nOrderPageControls.propTypes = {\n  disableMobileNextButton: PropTypes.bool,\n  disableDesktopNextButton: PropTypes.bool\n}\nOrderPageControls.defaultProps = {\n  disableMobileNextButton: false,\n  disableDesktopNextButton: false\n}\n\nexport default OrderPageControls","import React, { useContext, useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { navigate } from \"gatsby\"\n\nimport shoppingContext from \"../contexts/ShoppingContext\"\nimport PricingPanel from \"../components/PricingPanel\"\nimport PaymentMethodPanel from \"../components/PaymentMethodPanel\"\nimport OrderPageControls from \"../components/ControlButtons/OrderPageControls\"\n\nimport { media } from \"../utils/styledUtils\"\n\nconst OrderPage = () => {\n  const { selectedItems, items, updateItem } = useContext(shoppingContext)\n  useEffect(() => {\n    if (selectedItems.length === 0) {\n      navigate('/')\n    }\n  }, [])\n\n  const itemsInfo = selectedItems.map(i => ({\n    ...i,\n    ...(items.find(item => item.id === i.id))\n  }))\n\n  const totalItemsCount = itemsInfo.reduce((sum, item) => sum + item.count, 0)\n\n  const [isInputValid, setInputValid] = useState(false);\n\n  return (\n    <Container>\n      <PanelGroup>\n        <PricingPanel\n          items={itemsInfo}\n          updateItem={updateItem}\n        />\n\n        <FormWrapper>\n          <PaymentMethodPanel\n            setInputValid={setInputValid}\n          />\n        </FormWrapper>\n      </PanelGroup>\n\n      <OrderPageControls\n        disableMobileNextButton={totalItemsCount <= 0}\n        disableDesktopNextButton={totalItemsCount <= 0 || !isInputValid}\n      />\n    </Container>\n  )\n}\n\n\nconst Container = styled.div`\n  ${media.desktop`\n    width: 1098px;\n    margin: 0 auto;\n  `}\n`\n\nconst PanelGroup = styled.div`\n  ${media.desktop`\n    display: flex;\n    justify-content: space-between;\n  `}\n`\n\nconst FormWrapper = styled.div`\n  display: none;\n\n  ${media.desktop`\n    display: block;\n  `}\n`\n\nexport default OrderPage\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../constants\"\n\nexport const Wrapper = styled.div`\n  margin: 0 auto 16px;\n  padding: 2px;\n  width: 341px;\n  background: ${COLOR.GREY};\n  border-radius: 32px;\n  box-sizing: border-box;\n`\n\nexport const Info = styled.span`\n  font-size: 21px;\n  line-height: 28px;\n  font-weight: 300;\n  text-align: center;\n  color: ${COLOR.BROWN};\n  display: block;\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Wrapper, Info } from \"./index.css\"\n\nconst Step = ({ className, children }) => (\n  <Wrapper className={className}>\n    <Info>{children}</Info>\n  </Wrapper>\n)\n\nStep.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired\n}\n\nexport default Step\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../../constants\"\n\nexport const Button = styled.button`\n  width: 154px;\n  height: 48px;\n  padding: 10px 0px;\n  background: ${COLOR.PINK};\n  border-radius: 14px;\n  border: 2px solid ${COLOR.PINK};\n  font-size: 21px;\n  font-weight: 300;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n\n    ${props => props.disabled && {\n      textDecoration: \"none\"\n    }}\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  ${props => props.disabled && {\n    opacity: .35,\n    cursor: \"not-allowed\"\n  }}\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Button } from \"./index.css\"\n\nconst NextButton = ({ className, disabled, children, onClick }) => {\n  return (\n    <Button className={className} disabled={disabled} onClick={onClick}>\n      {children}\n    </Button>\n  )\n}\n\nNextButton.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func\n}\nNextButton.defaultProps = {\n  disabled: false\n}\n\nexport default NextButton\n","import styled from \"styled-components\"\n\nimport StepRaw from \"../Step\"\nimport { media } from \"../../utils/styledUtils\"\n\nexport const Wrapper = styled.div`\n  width: 345px;\n  padding: 16px 13px 24px;\n  border-radius: 14px;\n  background: white;\n  box-sizing: border-box;\n  box-shadow: 0 3px 6px 0 rgba(187, 68, 68, 0.4);\n\n  ${media.desktop`\n    padding: 16px 27px 0 30px;\n    width: 725px;\n    height: 100%;\n  `}\n`\n\nexport const Step = styled(StepRaw)`\n  width: 315px;\n`\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../../constants\"\n\nexport const Container = styled.div`\n  display: flex;\n  margin-bottom: 11px;\n  padding-left: 3px;\n  padding-right: 3px;\n`\n\nexport const Selector = styled.div`\n  width: 95px;\n  height: 57px;\n  border: 1px solid ${COLOR.PINK};\n  border-radius: 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 23px;\n  line-height: 31px;\n  color: ${COLOR.BROWN};\n  cursor: not-allowed;\n\n  ${props => props.active && {\n    boxShadow: `0 0 0 1px ${COLOR.PINK}`,\n    background: COLOR.REGULAR_PINK,\n    cursor: \"default\"\n  }}\n\n  & + & {\n    margin-left: 14px;\n  }\n\n  svg {\n    width: 39px !important;\n    height: 36px;\n  }\n`\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Image from \"gatsby-image\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faCreditCard } from \"@fortawesome/free-regular-svg-icons\"\n\nimport { Container, Selector } from \"./index.css\"\n\nconst MethodSelector = () => {\n  const linePayImageData = useStaticQuery(graphql`\n    query {\n      file(relativePath: {eq: \"linepay-logo.png\"}) {\n        childImageSharp {\n          fixed(width: 77, height: 25) {\n            ...GatsbyImageSharpFixed_withWebp\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    <Container>\n      <Selector active={true}>\n        <FontAwesomeIcon icon={faCreditCard} />\n      </Selector>\n      <Selector>\n        <Image fixed={linePayImageData.file.childImageSharp.fixed} />\n      </Selector>\n      <Selector>\n        轉帳\n      </Selector>\n    </Container>\n  )\n}\n\nexport default MethodSelector\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../constants\"\n\nexport const Label = styled.label`\n  font-size: 23px;\n  font-weight: 500;\n  line-height: 31px;\n`\n\nexport const Input = styled.input`\n  padding: 3px 9px 6px;\n  border-radius: 6px;\n  border: 1px solid ${COLOR.LIGHT_BLUE};\n  box-shadow: 0 0 6px 0 ${COLOR.BLUE};\n  height: 40px;\n  font-size: 23px;\n  font-weight: 300;\n  line-height: 31px;\n  color: ${COLOR.LIGHT_BLACK};\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n  }\n\n  ${props => props.isInvalid && {\n    background: \"#FFF9DC\",\n    borderColor: \"#D8586D\",\n    boxShadow: `0 0 6px 0 #FFD9DC`\n  }}\n`\n\nexport const Select = styled.select`\n  padding: 5px 0 4px 8px;\n  width: 94px;\n  height: 40px;\n  border: 1px solid ${COLOR.LIGHT_BLUE};\n  box-shadow: 0 0 6px 0 ${COLOR.BLUE};\n  border-radius: 6px;\n  background: white;\n  font-size: 23px;\n  font-weight: 300;\n  line-height: 31px;\n  color: ${COLOR.LIGHT_BLACK};\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  ${props => props.isInvalid && {\n    background: \"#FFF9DC\",\n    borderColor: \"#D8586D\",\n    boxShadow: `0 0 6px 0 #FFD9DC`\n  }}\n`\n","import styled from \"styled-components\"\nimport { Label as LabelRaw, Input as InputRaw } from \"../Common.css\"\n\nexport const Container = styled.div`\n  margin-bottom: 21px;\n`\n\nexport const InputWrapper = styled.div``\n\nexport const Label = styled(LabelRaw)`\n  margin-bottom: 10px;\n  display: inline-block;\n`\n\nexport const Input = styled(InputRaw)`\n  padding: 3px 6px 6px;\n  width: 68px;\n  display: inline-block;\n  box-sizing: border-box;\n\n  & + & {\n    margin-left: 15px;\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Container, InputWrapper, Label, Input } from \"./index.css\"\n\nclass CreditCardInput extends React.PureComponent {\n  static propTypes = {\n    label: PropTypes.string.isRequired,\n    values: PropTypes.object.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onBlur: PropTypes.func.isRequired,\n    errors: PropTypes.object,\n    touched: PropTypes.object\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.inputRef = {}\n  }\n\n  setInputRef = (i, ref) => this.inputRef[i] = ref\n\n  handleChange = (e, i) => {\n    if (e.target.value.length >= 4) {\n      i < 3\n        ? this.inputRef[i + 1].focus()\n        : this.inputRef[i].blur()\n    }\n\n    this.props.onChange(e)\n  }\n\n  render = () => {\n    const { label, values, onBlur, errors = {}, touched = {}} = this.props\n\n    return (\n      <Container>\n        <Label>{label}</Label>\n\n        <InputWrapper>\n          <Input name=\"creditCard.id0\"\n            value={values.id0}\n            isInvalid={errors.id0 && touched.id0}\n            onBlur={onBlur}\n            onChange={e => this.handleChange(e, 0)}\n            ref={ref => this.setInputRef(0, ref)}\n          />\n          <Input name=\"creditCard.id1\"\n            value={values.id1}\n            isInvalid={errors.id1 && touched.id1}\n            onBlur={onBlur}\n            onChange={e => this.handleChange(e, 1)}\n            ref={ref => this.setInputRef(1, ref)}\n          />\n          <Input name=\"creditCard.id2\"\n            value={values.id2}\n            isInvalid={errors.id2 && touched.id2}\n            onBlur={onBlur}\n            onChange={e => this.handleChange(e, 2)}\n            ref={ref => this.setInputRef(2, ref)}\n          />\n          <Input name=\"creditCard.id3\"\n            value={values.id3}\n            isInvalid={errors.id3 && touched.id3}\n            onBlur={onBlur}\n            onChange={e => this.handleChange(e, 3)}\n            ref={ref => this.setInputRef(3, ref)}\n          />\n        </InputWrapper>\n      </Container>\n    )\n  }\n}\n\nexport default CreditCardInput\n","import styled from \"styled-components\"\nimport { Label as LabelRaw, Select as SelectRaw } from \"../Common.css\"\n\nexport const Wrapper = styled.div`\n  margin-bottom: 19px;\n`\n\nexport const Label = styled(LabelRaw)`\n  margin-right: 14px;\n`\n\nexport const Select = SelectRaw\n\nexport const SelectWrapper = styled.div`\n  position: relative;\n  display: inline-block;\n\n  & + & {\n    margin-left: 23px;\n  }\n\n  &::after {\n    position: absolute;\n    content: \"\";\n    top: 50%;\n    right: 10px;\n    transform: translateY(-50%);\n    display: block;\n    border: 8px solid black;\n    border-left: 6px solid transparent;\n    border-bottom: none;\n    border-right: 6px solid transparent;\n  }\n`\n","import React from \"react\"\n\nimport { Wrapper, Label, SelectWrapper, Select } from \"./index.css\"\n\nconst yearOptions = Array.apply(null, Array(20)).map((_, i) => String(2019 + i))\nconst monthOptions = Array.apply(null, Array(12)).map((_, i) => String(1 + i))\n\nconst ExpireDateSelector = ({\n  label ,\n  expiredMonth,\n  expiredYear,\n  errors = {},\n  touched = {},\n  onChange, onBlur\n}) => {\n  const creditCardErrors = errors.creditCard || {}\n  const creditCardTouched = touched.creditCard || {}\n  \n  return (\n    <Wrapper>\n      <Label>{label}</Label>\n\n      <SelectWrapper>\n        <Select\n          name=\"creditCard.expiredMonth\"\n          value={expiredMonth}\n          isInvalid={creditCardErrors.expiredMonth && creditCardTouched.expiredMonth}\n          onChange={onChange}\n          onBlur={onBlur}\n        >\n          <>\n            {!expiredMonth && <option value=\"\" label=\"\" />}\n            {monthOptions.map(o => (\n              <option key={o} value={o} label={o} />\n            ))}\n          </>\n        </Select>\n      </SelectWrapper>\n\n      <SelectWrapper>\n        <Select\n          name=\"creditCard.expiredYear\"\n          value={expiredYear}\n          isInvalid={creditCardErrors.expiredYear && creditCardTouched.expiredYear}\n          onChange={onChange}\n          onBlur={onBlur}\n        >\n          <>\n            {!expiredYear && <option value=\"\" label=\"\" />}\n            {yearOptions.map(o => (\n              <option key={o} value={o} label={o} />\n            ))}\n          </>\n        </Select>\n      </SelectWrapper>\n    </Wrapper>\n  )\n}\n\nexport default ExpireDateSelector\n","import styled from \"styled-components\"\nimport { Label as LabelRaw, Input as InputRaw } from \"../Common.css\"\n\nexport const Wrapper = styled.div`\n  margin-bottom: 20px;\n`\n\nexport const Label = styled(LabelRaw)`\n  width: 92px;\n  display: inline-block;\n  text-align: right;\n  margin-right: 14px;\n`\n\nexport const Input = styled(InputRaw)`\n  width: 211px;\n`\n","import React from 'react'\nimport PropTypes from \"prop-types\"\n\nimport { Wrapper, Label, Input } from \"./index.css\"\n\nconst RowInput = ({ label, name, placeholder, value, error, touched, onChange, onBlur, inputWidth }) => {\n  return (\n    <Wrapper>\n      <Label>{label}</Label>\n      <Input\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        isInvalid={error && touched}\n        onChange={onChange}\n        onBlur={onBlur}\n        {...(inputWidth && {\n          style: { width: inputWidth }\n        })}\n      />\n    </Wrapper>\n  )\n}\n\nRowInput.propTypes = {\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n  error: PropTypes.string,\n  touched: PropTypes.bool,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  inputWidth: PropTypes.number\n}\n\nexport default RowInput\n","import styled from \"styled-components\"\n\nimport { COLOR } from \"../../constants\"\nimport { media } from \"../../utils/styledUtils\"\n\nexport const Container = styled.div`\n  ${media.desktop`\n    display: flex;\n  `}\n`\n\nexport const CreditCardWrapper = styled.div``\n\nexport const BuyerInfoWrapper = styled.div`\n  padding-top: 22px;\n  margin-bottom: -20px;\n  border-top: 2px solid ${COLOR.LIGHT_PINK};\n\n  ${media.desktop`\n    padding-top: 0;\n    border: none;\n    margin-left: 34px;\n  `}\n`\n","import React, { useContext } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Formik, Form } from \"formik\"\nimport * as Yup from \"yup\"\n\nimport shoppingContext from \"../../contexts/ShoppingContext\"\nimport CreditCardInput from \"./CreditCardInput\"\nimport ExpireDateSelector from \"./ExpireDateSelector\"\nimport RowInput from \"./RowInput\"\nimport { Container, CreditCardWrapper, BuyerInfoWrapper } from \"./index.css\"\n\nconst buyerInfoSchema = Yup.object().shape({\n  creditCard: Yup.object().shape({\n    id0: Yup.string()\n      .length(4, \"信用卡號有誤！\")\n      .required(\"必填！\"),\n    id1: Yup.string()\n      .length(4, \"信用卡號有誤！\")\n      .required(\"必填！\"),\n    id2: Yup.string()\n      .length(4, \"信用卡號有誤！\")\n      .required(\"必填！\"),\n    id3: Yup.string()\n      .length(4, \"信用卡號有誤！\")\n      .required(\"必填！\"),\n    expiredMonth: Yup.string()\n      .min(1, \"月份格式有誤！\")\n      .max(2, \"月份格式有誤！\")\n      .required(\"必填！\"),\n    expiredYear: Yup.string()\n      .length(4, \"年份格式有誤！\")\n      .required(\"必填！\"),\n    securityCode: Yup.string()\n      .length(3, \"末三碼格式有誤！\")\n      .required(\"必填！\"),\n  }),\n  name: Yup.string()\n    .required(\"必填！\"),\n  phone: Yup.string()\n    .matches(/^09\\d{8}$/)\n    .required(\"必填！\"),\n  address: Yup.string()\n    .required(\"必填！\")\n})\n\nconst BuyerInfoForm = ({ setInputValid }) => {\n  const { setBuyerInfo, buyerInfo } = useContext(shoppingContext)\n  let previousValidState = false\n\n  const { id, ...initCreditCard } = buyerInfo.creditCard\n  const idArray = id.split(\"\")\n  const id0 = idArray.splice(0, 4).join(\"\")\n  const id1 = idArray.splice(0, 4).join(\"\")\n  const id2 = idArray.splice(0, 4).join(\"\")\n  const id3 = idArray.splice(0, 4).join(\"\")\n\n  return (\n    <Formik\n      initialValues={{\n        ...buyerInfo,\n        creditCard: {\n          ...initCreditCard,\n          id0,\n          id1,\n          id2,\n          id3,\n        },\n      }}\n      isInitialValid={() => \n        buyerInfo.name && buyerInfo.phone && buyerInfo.address &&\n        buyerInfo.creditCard.id && buyerInfo.creditCard.expiredMonth && buyerInfo.creditCard.expiredYear && buyerInfo.creditCard.securityCode\n      }\n      validationSchema={buyerInfoSchema}\n      onSubmit={() => {}}\n    >\n      {({ touched, values, isValid, errors, handleChange, handleBlur }) => {\n        setInputValid(isValid)\n        if (isValid && previousValidState) {\n          const { id0, id1, id2, id3, ...otherCreditCard } = values.creditCard\n          setTimeout(() => {\n            buyerInfoSchema.validate(values)\n              .then(() => {\n                setBuyerInfo({\n                  ...values,\n                  creditCard: {\n                    id: `${id0}${id1}${id2}${id3}`,\n                    ...otherCreditCard\n                  }\n                })\n              })\n              .catch(() => {})\n          }, 0)\n        }\n        previousValidState = isValid\n\n        return (\n          <Form>\n            <Container>\n              <CreditCardWrapper>\n                <CreditCardInput\n                  label=\"信用卡號\"\n                  values={values.creditCard}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  errors={errors.creditCard}\n                  touched={touched.creditCard}\n                />\n                <ExpireDateSelector\n                  label=\"有效月年\"\n                  expiredMonth={values.creditCard.expiredMonth}\n                  expiredYear={values.creditCard.expiredYear}\n                  errors={errors}\n                  touched={touched}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n                <RowInput\n                  label=\"末三碼\"\n                  name=\"creditCard.securityCode\"\n                  value={values.creditCard.securityCode}\n                  error={errors && errors.creditCard && errors.creditCard.securityCode}\n                  touched={touched && touched.creditCard && touched.creditCard.securityCode}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  inputWidth={94}\n                />\n              </CreditCardWrapper>\n\n              <BuyerInfoWrapper>\n                <RowInput\n                  label=\"收件人\"\n                  name=\"name\"\n                  placeholder=\"輸入真實姓名\"\n                  value={values.name}\n                  error={errors && errors.name}\n                  touched={touched && touched.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n                <RowInput\n                  label=\"連絡電話\"\n                  name=\"phone\"\n                  placeholder=\"輸入手機號碼\"\n                  value={values.phone}\n                  error={errors && errors.phone}\n                  touched={touched && touched.phone}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n                <RowInput\n                  label=\"收件地址\"\n                  name=\"address\"\n                  placeholder=\"僅限台灣地區\"\n                  value={values.address}\n                  error={errors && errors.address}\n                  touched={touched && touched.address}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n              </BuyerInfoWrapper>\n            </Container>\n          </Form>\n        )\n      }}\n    </Formik>\n  )\n}\n\nBuyerInfoForm.propTypes = {\n  setInputValid: PropTypes.func\n}\n\nexport default BuyerInfoForm\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Step, Wrapper } from \"./index.css\"\nimport MethodSelector from \"./MethodSelector\"\nimport BuyerInfoForm from \"../BuyerInfoForm\"\n\n\nconst PaymentMethodPanel = ({ setInputValid }) => {\n  return (\n    <Wrapper>\n      <Step>步驟.3選擇付款方式</Step>\n\n      <MethodSelector />\n      <BuyerInfoForm\n        setInputValid={setInputValid}\n      />\n    </Wrapper>\n  )\n}\n\nPaymentMethodPanel.propTypes = {\n  setInputValid: PropTypes.func\n}\n\nexport default PaymentMethodPanel\n","import styled from \"styled-components\"\nimport { COLOR } from \"../../../constants\"\n\nexport const Button = styled.button`\n  width: 154px;\n  height: 48px;\n  padding: 10px 0px;\n  background: white;\n  border-radius: 14px;\n  border: 2px solid ${COLOR.PINK};\n  font-size: 21px;\n  font-weight: 300;\n  color: ${COLOR.PINK};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  svg {\n    margin-right: 11px;\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Button } from \"./index.css\"\n\nconst BackButton = ({ className, children, onClick }) => {\n  return (\n    <Button className={className} onClick={onClick}>\n      {children}\n    </Button>\n  )\n}\n\nBackButton.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func\n}\n\nexport default BackButton\n"],"sourceRoot":""}